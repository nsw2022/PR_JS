<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS prototype</title>
    <script>

        // 리터럴객체든 생성자함수를 이용한 객체든 모두 멤버 메소드를 객체마다 보유함.
        // 같은 객체자료형 마다 메소드가 하나만 존재하도록 하는 기법. : prototype

        function Person(name, age){
            this.name=name;
            this.age=age;
        }
        // 본래라면 이 생성자 함수를 출력하기 위해서는 이전예제 show() 같은 기능으로 출력했음
        // 그러다 보니 객체 마다마다 show를 같게 됨 <- 메모리의 낭비로 이어짐

        // Person자료형에 하나만 존재하는 메소드 추가
        // 만든적도없는데 . 찍어보면 prototype이라는 있는걸 확인해볼수있음
        // 클래스마다 가지고있는 개인저장소 같은 느낌이라 보시면 됨 (아파트 외부창고같은느낌?)
        Person.prototype.show = function(){
            document.write("Person: "+this.name+" - "+this.age+"<br>")
        }

        var p1=new Person("sam",20);
        var p2=new Person("robin",25);

        p1.show()
        p2.show()
        // 위의 참조변수를 보면 Person에 show()를 만든적이 없는데 출력됨
        // 참고로 static변수는 아니기에 Person.show()이런건 안됨

        // 당연히 여러개 추가도 가능
        Person.prototype.getName=function(){
            return this.name
        }

        document.write("이름 : "+p1.getName()+"<br>")

        // 사실.. Java는 이런 프로토타입이 없어도 원래이렇게 생김
        // 자바에는 이미 객체안에 메소드가 없고
        // 기본적으로 메소드가 별도 존재
        // 근데 자바스크립트는 자바랑 다르게 객체안에 메소드가 들어가있음 그러다보니 낭비가 심함
        // 함수는 어차피 값이아니라 코드기때문에 코드는 달라지지 않음 -> 자바스크립트 프로퍼티의 존재이유

        // 위에는 프로토타입 안에 함수만 넣었지만 변수도 넣어서 제어가능 근데 별도로 다루진 않음
        // 어차피 자주 않씀.. 어차피 프로토타입은 객체마다 같은 값을 같기위한건데 변수는 애초에
        // 객체마다 다른게 맞기때문에

        // 상속도 가능한데.. 세상어려움 나중에 따로 추가함.. ㅠㅠ

        ///////////////////////////////////////////////////////////////////////////////////

        document.write("<hr>");

        // 너무 짧은거같아서 객체기능 몇가지 추가

        // 생성자 함수 안에서 지역변수를 객체 멤버변수 초기화에 활용 할 수도 있음
        function Car(model, color){
            // 지역변수
            var abc="blue"

            this.model=model
            this.color=color + "abc" // 지역변수를 멤버변수 초기화에 활용
        }

        var c = new Car("aa","red")
        document.write("c.moedl"+" : "+c.color+"<br>")

        // JS 객체도 Object 클래스의 능력을 기본 상속받은 상태임
        document.write("<hr>")

        // 저게 뭔말이냐하면
        var p3 = new Person()
        document.write(p3.toString()+"<br>")//Person 에 없는 기능 toString()이 존재함

        // .toString() 처럼 모든 객체가 기본으로 장착한 기능들을 가진 Object 클래스가 존재함.

    </script>
</head>
<body>
    
</body>
</html>